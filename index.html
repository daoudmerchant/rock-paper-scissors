<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>Rock Paper Scissors</title>
    </head>
    <body>
        <script>


            // Ask the user for rock, paper or scissors and put in 'playerSelection,'



            // Randomly generate rock, paper or scissors and put in 'computerSelection'

            let capitalize = (string) => (string.charAt(0)).toUpperCase() + string.slice(1);

            function computerPlay() {
                let randomSelector = Math.floor(Math.random() * 3) + 1;
                if (randomSelector === 1) { return 'rock' }
                else if (randomSelector === 2) { return 'paper' }
                else { return 'scissors' }
            }

            function game() {
                const playerSelection = prompt('Rock, paper or scissors?', '');
                const computerSelection = computerPlay()

                function playRound(playerSelection, computerSelection) {
                    let playerSelectionLow = playerSelection.toLowerCase()
                    let win_lose = 'lose';
                    let winner = capitalize(computerSelection)
                    let loser = playerSelectionLow;
                    if (playerSelectionLow === computerSelection) {
                        return "It's a tie! You both chose " + computerSelection + ".";
                    } else if (playerSelectionLow === 'rock' && computerSelection === 'scissors' ||
                            playerSelectionLow === 'scissors' && computerSelection === 'paper' ||
                            playerSelectionLow === 'paper' && computerSelection === 'rock') {
                        win_lose = 'win';
                        winner = capitalize(playerSelectionLow);
                        loser = computerSelection;
                    }
                    return `You ${win_lose}! ${winner} beats ${loser}.`;
                }
                

                console.log('The computer has chosen ' + computerSelection + '.');
                console.log(playRound(playerSelection, computerSelection));
            }
        
            // (1) requires:
            // - whether the player and computer are the same (to tie)
            // and if not: 
            // - the player's input (rock, paper or scissors)
            // - whether the computer's input is scissors, rock or paper (for player to win)
            // If the player has neither tied nor won, they have lost.

            // (2) requires:
            // - the selection pairing **without knowing who won**
            // OR
            // - the winner's choice and the loser's choice **without knowing who chose which**

            // (1)
            // if the player and computer choose the same option, it's a tie, otherwise:
            // if the player chooses paper they win if the computer chooses rock
            // if the player chooses rock they win if the computer chooses scissors
            // if the player chooses scissors they win if the computer chooses paper
            // otherwise they lose

            // (2)
            // if the combination is rock and scissors, read 'rock blunts scissors'
            // if the combination is scissors and paper, read 'scissors cut paper'
            // if the combination is paper and rock, read 'paper wraps rock'
            // OR
            // find out the winning variable and put it first
            // find out the losing variable and put it second
            

            // if the player and computer choose the same option, it's a tie, otherwise:
            // if the pairing is rock and scissors:
            // - the player wins if they have the rock (and loses if not)
            // - the end message reads "rock blunts scissors"
            // if the pairing is scissors and paper:
            // - the player wins if they have scissors (and loses if not)
            // - the end message reads "scissors cut paper"
            // if the pairing is paper and rock:
            // - the player wins if they have paper (and loses if not)
            // - the end message reads "scissors cut paper"

            // (1) Display whether the player wins or loses
            // (2) Display the combination of choices with the winning one first





            //     let winner;
            //     let ranking = ['rock', 'paper', 'scissors', 'rock'];
            //     if (ranking.indexOf(playerSelectionLow) === ranking.indexOf(computerSelection)) {
            //         return "It's a tie! You both chose " + computerSelection + ".";
            //     } else if ((ranking.lastIndexOf(playerSelectionLow) - 1) === ranking.indexOf(computerSelection)) {
            //         winner = playerSelectionLow;
            //     } else if (ranking.indexOf(playerSelectionLow) + 1) === ranking.indexOf(computerSelection) {
            //         winner = computerSelection
            //     }
            //     let win_lose = (winner === computerSelection) ? 'lose' : 'win';
                
            // }

        </script>
    </body>
</html>